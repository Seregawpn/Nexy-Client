# üß™ –¢–µ—Å—Ç—ã Nexy Client

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ —É–ø–∞–∫–æ–≤–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìã –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤

### üöÄ **test_all_before_packaging.py** (–ì–ª–∞–≤–Ω—ã–π —Ç–µ—Å—Ç)
–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ —É–ø–∞–∫–æ–≤–∫–æ–π.

**–ó–∞–ø—É—Å–∫–∞–µ—Ç:**
- ‚úÖ PyObjC Fix —Ç–µ—Å—Ç
- ‚úÖ Resource Paths —Ç–µ—Å—Ç
- ‚úÖ Packaged Simulation —Ç–µ—Å—Ç
- ‚úÖ FFmpeg availability —Ç–µ—Å—Ç
- ‚úÖ Welcome Player integration —Ç–µ—Å—Ç

**–ó–∞–ø—É—Å–∫:**
```bash
cd /Users/sergiyzasorin/Development/Nexy/client
python tests/test_all_before_packaging.py
```

---

### üîß **test_pyobjc_fix.py**
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É —Ñ–∏–∫—Å–∞ NSMakeRect –¥–ª—è PyObjC/rumps.

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- Foundation/AppKit –∏–º–ø–æ—Ä—Ç—ã
- –ù–∞–ª–∏—á–∏–µ NSMakeRect —Å–∏–º–≤–æ–ª–æ–≤
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å rumps

**–ó–∞–ø—É—Å–∫:**
```bash
python tests/test_pyobjc_fix.py
```

---

### üì¶ **test_packaged_simulation.py**
–°–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã PyInstaller –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏.

**–¢–µ—Å—Ç–∏—Ä—É–µ—Ç:**
- Development —Ä–µ–∂–∏–º (baseline)
- PyInstaller onefile —Ä–µ–∂–∏–º
- PyInstaller bundle (.app) —Ä–µ–∂–∏–º

**–ó–∞–ø—É—Å–∫:**
```bash
python tests/test_packaged_simulation.py
```

---

### üîç **test_resource_path.py**
–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—É—Ç–µ–π –∫ —Ä–µ—Å—É—Ä—Å–∞–º –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö.

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø—É—Ç–∏
- –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- WelcomeConfig –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ó–∞–ø—É—Å–∫:**
```bash
python tests/test_resource_path.py
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

### –ü–µ—Ä–µ–¥ —É–ø–∞–∫–æ–≤–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Ç–µ—Å—Ç:**
   ```bash
   python tests/test_all_before_packaging.py
   ```

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ (‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!)**

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —É–ø–∞–∫–æ–≤–∫—É:**
   ```bash
   ./packaging/build_final.sh
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - –ó–≤—É–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f ~/Library/Logs/Nexy/nexy.log`

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–í—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞**
- **CLIENT_ROOT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ parent –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**
- **–¢–µ—Å—Ç—ã –ù–ï —Ç—Ä–µ–±—É—é—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –æ–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –≤ —Ç–µ—Å—Ç–∞—Ö**

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –¢–µ—Å—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥—É–ª–∏
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/sergiyzasorin/Development/Nexy/client
python tests/test_all_before_packaging.py
```

### FFmpeg —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ ffmpeg
ls -lh resources/ffmpeg/ffmpeg
```

### PyObjC —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyObjC
pip install --upgrade pyobjc-core pyobjc-framework-Cocoa
```

---

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `test_<–Ω–∞–∑–≤–∞–Ω–∏–µ>.py` –≤ —ç—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—É—Ç–µ–π:
   ```python
   CLIENT_ROOT = Path(__file__).parent.parent
   sys.path.insert(0, str(CLIENT_ROOT))
   ```
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç –≤ `test_all_before_packaging.py`
4. –û–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç README

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –û–∫—Ç—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

