# üèóÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–±–æ—Ä–∫–µ Nexy

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏, –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –∏ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nexy AI Voice Assistant –¥–ª—è macOS.

## üîß –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã Apple Developer
- ‚úÖ **Developer ID Application** - –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è .app bundle
- ‚úÖ **Developer ID Installer** - –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è PKG
- ‚úÖ **Apple ID** —Å app-specific password –¥–ª—è –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
# PyInstaller
pip install pyinstaller

# macOS –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
codesign, productsign, xcrun
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `nexy.spec` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ `entitlements_app.plist` - —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ `entitlements_pkg.plist` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è PKG

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
./check_ready.sh
```

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
```bash
./build_production.sh
```

### 3. –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
```bash
./build_quick.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Nexy/
‚îú‚îÄ‚îÄ build_production.sh          # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ build_quick.sh               # –ë—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞
‚îú‚îÄ‚îÄ check_ready.sh               # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ nexy.spec                    # PyInstaller –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ entitlements_app.plist       # –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è .app
‚îú‚îÄ‚îÄ entitlements_pkg.plist       # –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è PKG
‚îú‚îÄ‚îÄ build/scripts/
‚îÇ   ‚îú‚îÄ‚îÄ sign_app_production.sh   # –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ .app
‚îÇ   ‚îú‚îÄ‚îÄ sign_pkg_production.sh   # –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ PKG
‚îÇ   ‚îî‚îÄ‚îÄ notarize_production.sh   # –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ dist/
    ‚îî‚îÄ‚îÄ Nexy.app                 # –°–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### nexy.spec
```python
# EXE —Å–µ–∫—Ü–∏—è
codesign_identity="Developer ID Application: Sergiy Zasorin (5NKLL2CLB9)",
entitlements_file='entitlements_app.plist',
codesign_options=['runtime', 'timestamp'],

# BUNDLE —Å–µ–∫—Ü–∏—è
codesign_identity="Developer ID Application: Sergiy Zasorin (5NKLL2CLB9)",
entitlements_file='entitlements_app.plist',
codesign_options=['runtime', 'timestamp'],
```

### entitlements_app.plist
- ‚úÖ Hardened Runtime —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ –ê—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Apple Events

## üîê –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ (PyInstaller)
- –í—Å–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Hardened Runtime –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Entitlements –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Timestamp –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ .app bundle
codesign -dv dist/Nexy.app/Contents/MacOS/Nexy
codesign -d --entitlements - dist/Nexy.app/Contents/MacOS/Nexy

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PKG
pkgutil --check-signature Nexy_1.71.0_signed.pkg
```

## üì§ –ü—Ä–æ—Ü–µ—Å—Å –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏

### 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—é
```bash
xcrun notarytool submit Nexy_1.71.0_signed.pkg \
    --apple-id seregawpn@gmail.com \
    --password qtiv-kabm-idno-qmbl \
    --team-id 5NKLL2CLB9 \
    --wait
```

### 2. –°–∫–ª–µ–∏–≤–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞
```bash
xcrun stapler staple Nexy_1.71.0_signed.pkg
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
xcrun stapler validate Nexy_1.71.0_signed.pkg
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### .app bundle
- ‚úÖ Hardened Runtime –≤–∫–ª—é—á–µ–Ω (`flags=0x10000(runtime)`)
- ‚úÖ Entitlements –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ Timestamp –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ –ü–æ–¥–ø–∏—Å—å –≤–∞–ª–∏–¥–Ω–∞

### PKG
- ‚úÖ –ü–æ–¥–ø–∏—Å–∞–Ω Developer ID Installer
- ‚úÖ Timestamp –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ (Accepted)
- ‚úÖ –¢–∏–∫–µ—Ç —Å–∫–ª–µ–µ–Ω

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Hardened Runtime –Ω–µ –≤–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `codesign_options=['runtime', 'timestamp']` –≤ nexy.spec
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `entitlements_file` –≤ nexy.spec

### xattr –æ—à–∏–±–∫–∏
- –û—á–∏—Å—Ç–∏—Ç—å xattr –∞—Ç—Ä–∏–±—É—Ç—ã: `find . -name "*.py" -exec xattr -c {} \;`

### –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –≤—Å–µ—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Hardened Runtime
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å entitlements

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∞–µ–º:
- **Nexy_1.71.0_signed.pkg** - –≥–æ—Ç–æ–≤—ã–π –∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é PKG
- **dist/Nexy.app** - –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π .app bundle
- **–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã** - –≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ macOS

## üöÄ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

PKG –º–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å —á–µ—Ä–µ–∑:
- –í–µ–±-—Å–∞–π—Ç
- Email
- USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª–∏
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã

macOS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ–¥–ø–∏—Å—å –∏ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—é –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

