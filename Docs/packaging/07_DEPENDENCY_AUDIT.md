# Этап 2: Аудит Python-зависимостей

**Дата:** 2025-10-09  
**Среда:** macOS 26.0.1 (arm64) / Python 3.13.7 (.venv)

---

## 1. Сравнение с `requirements.txt`

| Пакет | Требуемая версия | Версия в .venv | Статус |
|-------|------------------|----------------|--------|
| aiohappyeyeballs | 2.6.1 | 2.6.1 | ✅ |
| aiohttp | 3.12.15 | 3.12.15 | ✅ |
| aiosignal | 1.4.0 | 1.4.0 | ✅ |
| altgraph | 0.17.4 | 0.17.4 | ✅ |
| attrs | 25.3.0 | 25.3.0 | ✅ |
| audioop-lts | 0.2.2 | 0.2.2 | ✅ |
| cffi | 2.0.0 | 2.0.0 | ✅ (arm64 wheel)
| frozenlist | 1.7.0 | 1.7.0 | ✅ |
| grpcio | 1.75.1 | 1.75.1 | ✅ (arm64 wheel)
| grpcio-tools | 1.75.1 | 1.75.1 | ✅ |
| idna | 3.10 | 3.10 | ✅ |
| macholib | 1.16.3 | 1.16.3 | ✅ |
| markdown-it-py | 4.0.0 | 4.0.0 | ✅ |
| mdurl | 0.1.2 | 0.1.2 | ✅ |
| mss | 10.1.0 | 10.1.0 | ✅ |
| multidict | 6.6.4 | 6.6.4 | ✅ |
| numpy | 2.3.3 | 2.3.3 | ✅ (arm64 wheel)
| packaging | 25.0 | 25.0 | ✅ |
| pillow | 11.3.0 | 11.3.0 | ✅ (arm64 wheel)
| propcache | 0.3.2 | 0.3.2 | ✅ |
| protobuf | 6.32.1 | 6.32.1 | ✅ |
| psutil | 7.1.0 | 7.1.0 | ✅ |
| PyAudio | 0.2.14 | 0.2.14 | ✅ (arm64 wheel)
| pycparser | 2.23 | 2.23 | ✅ |
| pydub | 0.25.1 | 0.25.1 | ✅ |
| Pygments | 2.19.2 | 2.19.2 | ✅ |
| pyinstaller | 6.16.0 | 6.16.0 | ✅ |
| pyinstaller-hooks-contrib | 2025.9 | 2025.9 | ✅ |
| PyNaCl | 1.6.0 | 1.6.0 | ✅ |
| pynput | 1.8.1 | 1.8.1 | ✅ |
| pyobjc-core | 11.1 | 11.1 | ✅ |
| pyobjc-framework-* | 11.1 | 11.1 | ✅ |
| PyYAML | 6.0.3 | 6.0.3 | ✅ |
| rich | 14.1.0 | 14.1.0 | ✅ |
| rumps | 0.4.0 | 0.4.0 | ✅ |
| scipy | 1.16.2 | 1.16.2 | ✅ (arm64 wheel)
| setuptools | 80.9.0 | 80.9.0 | ✅ |
| six | 1.17.0 | 1.17.0 | ✅ |
| sounddevice | 0.5.2 | 0.5.2 | ✅ |
| SpeechRecognition | 3.14.3 | 3.14.3 | ✅ |
| standard-aifc | 3.13.0 | 3.13.0 | ✅ |
| standard-chunk | 3.13.0 | 3.13.0 | ✅ |
| typing_extensions | 4.15.0 | 4.15.0 | ✅ |
| urllib3 | 2.5.0 | 2.5.0 | ✅ |
| yarl | 1.20.1 | 1.20.1 | ✅ |

Дополнительно в окружении (зависимости setuptools) обнаружены:
- `setuptools._vendor.*` (importlib-metadata, wheel, jaraco.* и т.д.) — стандартные встроенные пакеты
- `pip==25.2` (новее, чем в requirements, но проблем не создает)

## 2. Архитектура и бинарные расширения

Проверены все `.so`/`.dylib` под `.venv/lib/python3.13/site-packages` — присутствуют arm64-сборки для numpy, scipy, grpcio, sounddevice, PyAudio и всех pyobjc-фреймворков. Претензий по архитектуре нет.

## 3. Обнаруженные проблемы / рекомендации

- `pip list` предупреждает о недоступном pip-cache (sandbox). Безопасно игнорировать, но на реальной машине стоит проверить права на `~/Library/Caches/pip`.
- Нет фиксированного `pip`/`wheel` в requirements — опционально можно добавить для воспроизводимости (не критично).
- Использование `numpy==2.3.3` и `scipy==1.16.2` требует Python ≥3.13, что уже соблюдается; при выпуске app следует убедиться, что поддержка систем старше macOS 11+ подтверждена.

## 4. Итог

- Зависимости соответствуют `requirements.txt` (100% совпадение по версиям).  
- Все критичные пакеты имеют arm64 бинарники.  
- Нарушений или несовместимых версий не выявлено.

**Готово к переходу на следующий этап плана (подготовка к code signing / notarization).**

