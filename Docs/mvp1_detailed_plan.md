# MVP 1: –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
## "–ì–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∑—Ä—è—á–∏—Ö —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–±–µ–ª–æ–º"

---

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### **–¶–µ–ª—å MVP 1:**
–°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∑—Ä—è—á–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω –∏ –æ—Ç–≤–µ—á–∞—Ç—å –≥–æ–ª–æ—Å–æ–º.

### **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏:** 3 –Ω–µ–¥–µ–ª–∏
### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è (gRPC)
### **–¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** macOS

---

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
```
üéØ –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–æ–±–µ–ª–∞ (600–º—Å) ‚Üí –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (—á–∏—Ç–∞–µ—Ç —ç–∫—Ä–∞–Ω)
üéØ –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí –ü–µ—Ä–µ–±–∏–≤–∞–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (—Å–ª—É—à–∞–µ—Ç –≤–æ–ø—Ä–æ—Å)
üéØ –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ (–∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω) ‚Üí –í—ã–∫–ª—é—á–∞–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
```

### **–õ–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:**
```
üîÑ inactive ‚Üí –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí active (–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è)
üîÑ active ‚Üí –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí interrupted (–ø–µ—Ä–µ–±–∏—Ç)
üîÑ active ‚Üí –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí inactive (–≤—ã–∫–ª—é—á–µ–Ω–∏–µ)
üîÑ interrupted ‚Üí –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí listening (—Å–ª—É—à–∞–µ—Ç)
üîÑ listening ‚Üí –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí processing (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç)
```

### **–£–º–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**
- **–í —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—è—Ö** ‚Üí –ø—Ä–æ–±–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ (–Ω–∞–±–æ—Ä —Ç–µ–∫—Å—Ç–∞)
- **–í–Ω–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π** ‚Üí –ø—Ä–æ–±–µ–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** ‚Üí —á–µ—Ä–µ–∑ macOS Accessibility API
- **VoiceOver —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Üí –Ω–µ –º–µ—à–∞–µ—Ç, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (macOS App)**

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```python
class AssistantClient:
    def __init__(self):
        # 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–º (Event Tap)
        self.space_controller = SpaceController()
        
        # 2. Edge TTS (–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
        self.edge_tts = EdgeTTSEngine()
        
        # 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (STT)
        self.speech_recognition = LocalSpeechRecognition()
        
        # 4. –ö—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã)
        self.image_cache = ImageCache()
        
        # 5. gRPC –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
        self.grpc_client = AssistantGrpcClient()
        
        # 6. –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
        self.task_queue = TaskQueue()
```

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞** - PyObjC + Core Graphics
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–º** - Event Tap + Accessibility API
- **Edge TTS** - Microsoft –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **–õ–æ–∫–∞–ª—å–Ω—ã–π STT** - SpeechRecognition + Google Speech API
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **gRPC —Å–≤—è–∑—å** - —Å —Å–µ—Ä–≤–µ—Ä–æ–º —Ç–æ–ª—å–∫–æ –¥–ª—è LLM –∞–Ω–∞–ª–∏–∑–∞

### **2. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Backend)**

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```python
class AssistantServer:
    def __init__(self):
        # 1. LLM –∞–Ω–∞–ª–∏–∑ (Gemini, GPT)
        self.llm_service = LLMService()
        
        # 2. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π TTS (Azure, Google) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
        self.tts_service = TTSService()
        
        # 3. –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (OpenCV, ML)
        self.image_analyzer = ImageAnalyzer()
        
        # 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫—ç—à)
        self.database = Database()
        
        # 5. gRPC —Å–µ—Ä–≤–µ—Ä
        self.grpc_server = AssistantGrpcServer()
```

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **LLM –∞–Ω–∞–ª–∏–∑** - Gemini 1.5 Flash –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç–∫—Ä–∞–Ω–æ–≤
- **TTS** - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∞–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –∫—ç—à

### **3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (STT)**

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```python
import speech_recognition as sr

class LocalSpeechRecognition:
    def __init__(self):
        self.recognizer = sr.Recognizer()
        self.microphone = sr.Microphone()
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
        self.recognizer.energy_threshold = 4000
        self.recognizer.dynamic_energy_threshold = True
        self.recognizer.pause_threshold = 0.8
        
    def listen_for_command(self):
        """–°–ª—É—à–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        
        try:
            with self.microphone as source:
                # –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º—Å—è –ø–æ–¥ —à—É–º
                self.recognizer.adjust_for_ambient_noise(source, duration=0.5)
                
                # –°–ª—É—à–∞–µ–º –∞—É–¥–∏–æ
                audio = self.recognizer.listen(source, timeout=10, phrase_time_limit=15)
                
                # –†–∞—Å–ø–æ–∑–Ω–∞—ë–º —á–µ—Ä–µ–∑ Google Speech API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
                text = self.recognizer.recognize_google(audio, language='ru-RU')
                
                return text
                
        except sr.WaitTimeoutError:
            return "–¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Ä–µ—á–∏"
        except sr.UnknownValueError:
            return "–†–µ—á—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞"
        except sr.RequestError as e:
            return f"–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: {e}"
```

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **SpeechRecognition** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Google Speech API** - –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
- **–õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN** - –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- **Fallback –º–µ—Ö–∞–Ω–∏–∑–º** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø–æ –Ω–µ–¥–µ–ª—è–º

---

### **–ù–µ–¥–µ–ª—è 1: –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**

#### **–î–µ–Ω—å 1-2: –§–æ–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–µ–ª–æ–º**
```python
# –§–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞ –≤ —Ñ–æ–Ω–µ
- –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–æ–±–µ–ª–∞ ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí –ø–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ (–∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω) ‚Üí –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
- –ó–∞—â–∏—Ç–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π ‚Üí –ø—Ä–æ–±–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ Accessibility API
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Event Tap –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –ø—Ä–æ–±–µ–ª–∞
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –¥–æ–ª–≥–æ–≥–æ/–∫–æ—Ä–æ—Ç–∫–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Accessibility API –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- [ ] –ó–∞—â–∏—Ç–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞–∂–∞—Ç–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–æ–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

#### **–î–µ–Ω—å 3-4: –ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞ + –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**
```python
# –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ö–≤–∞—Ç–∞ —ç–∫—Ä–∞–Ω–∞
- PyObjC + Core Graphics
- –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ
- –°–∂–∞—Ç–∏–µ –¥–æ 1024px, WebP —Ñ–æ—Ä–º–∞—Ç
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ (‚â§2MB)

# –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∂–µ–ª–µ–∑—É (MAC, Serial, UUID)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–æ–±–ª–µ–º
- –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PyObjC + Core Graphics
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–∫–æ–Ω
- [ ] –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–∫–Ω–∞
- [ ] –°–∂–∞—Ç–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ–∫–Ω–∞
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- [ ] **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π**
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ—Ç—Ä–∏–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω, –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–∫–Ω–µ –ò —Å–æ–±–∏—Ä–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### **–î–µ–Ω—å 5-7: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ + –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π**
```python
# –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
- SpeechRecognition –¥–ª—è STT
- PyAudio –¥–ª—è –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ
- 16kHz, –º–æ–Ω–æ, float32
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Google Speech API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤
- Fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

# –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ STT
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SpeechRecognition + PyAudio
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞—É–¥–∏–æ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Speech API
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥: "—á—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ", "–ø–æ–≤—Ç–æ—Ä–∏", "—Å—Ç–æ–ø"
- [ ] Fallback –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å STT**
- [ ] **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è**
- [ ] **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ + —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤—Å–µ—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

---

### **–ù–µ–¥–µ–ª—è 2: LLM –∏ –∞–Ω–∞–ª–∏–∑**

#### **–î–µ–Ω—å 1-3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini**
```python
# LLM –∫–ª–∏–µ–Ω—Ç
- Google Generative AI
- –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç–∫—Ä–∞–Ω–∞
- JSON –æ—Ç–≤–µ—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ + –¥–µ–π—Å—Ç–≤–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Generative AI
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç–∫—Ä–∞–Ω–æ–≤
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –¥–∞—ë—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

#### **–î–µ–Ω—å 4-5: TTS —Å–∏—Å—Ç–µ–º–∞**
```python
# –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
- Microsoft Edge TTS (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- –ù–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞ –¥–ª—è RU/EN
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∏–ª—å
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ—á–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ
- –õ–æ–∫–∞–ª—å–Ω—ã–π fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º STT
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ edge-tts
- [ ] –í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤ –¥–ª—è RU/EN
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Å—Ç–∏–ª–µ–º —Ä–µ—á–∏
- [ ] –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ—á–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º STT
- [ ] Fallback –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–µ—Ç–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –æ–∑–≤—É—á–∏–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

#### **–î–µ–Ω—å 6-7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ + –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```python
# –°–≤—è–∑—ã–≤–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ
- –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –ø—Ä–æ–±–µ–ª–∞ ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- –ö–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª ‚Üí –ø–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
- –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ (–∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω) ‚Üí –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –∞–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞ ‚Üí LLM ‚Üí TTS
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –≤–æ–ø—Ä–æ—Å–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ LLM –∞–Ω–∞–ª–∏–∑–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –í—ã—è–≤–ª–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–µ
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞–±–æ—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ STT —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ü–∏–∫–ª–æ–º
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥: "—á—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ", "–ø–æ–≤—Ç–æ—Ä–∏", "—Å—Ç–æ–ø"
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–µ—Ç—Ä–∏–∫**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º STT, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–±–µ–ª–æ–º –ò –ø–æ–ª–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### **–ù–µ–¥–µ–ª—è 3: –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

#### **–î–µ–Ω—å 1-3: –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ + –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
```python
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (WebP 80%)
- –°–∫–æ—Ä–æ—Å—Ç—å TTS (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

# –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã
- –ê–Ω–∞–ª–∏–∑ —á–∞—Å—Ç–æ—Ç—ã –æ—à–∏–±–æ–∫
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ WebP
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ TTS
- [ ] –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- [ ] **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞—á–µ—Å—Ç–≤–∞**
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- [ ] **–ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—à–∏–±–æ–∫**
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ + –ø–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

#### **–î–µ–Ω—å 4-7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**
```python
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –æ–∫–æ–Ω
- –¢–µ—Å—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ (100+ —Ü–∏–∫–ª–æ–≤)
- –¢–µ—Å—Ç —Å VoiceOver
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å VoiceOver
- [ ] –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (100+ —Ü–∏–∫–ª–æ–≤)
- [ ] –¢–µ—Å—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö –æ–∫–æ–Ω
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** MVP 1 –≥–æ—Ç–æ–≤ –∫ –ø–æ–∫–∞–∑—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

---

### **1. Protocol Buffers —Å—Ö–µ–º–∞**

```protobuf
// assistant.proto
syntax = "proto3";

package assistant;

service AssistantService {
  // –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  rpc AnalyzeScreen(ScreenRequest) returns (AnalysisResponse);
  rpc ProcessVoice(VoiceRequest) returns (VoiceResponse);
  rpc GetStatus(StatusRequest) returns (StatusResponse);
  
  // –°—Ç—Ä–∏–º–∏–Ω–≥ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
  rpc StreamAnalysis(stream ScreenRequest) returns (stream AnalysisResponse);
}

message ScreenRequest {
  bytes screenshot = 1;           // WebP –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  string app_name = 2;            // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  string window_title = 3;        // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞
  int64 timestamp = 4;            // –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
  string user_id = 5;             // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

message AnalysisResponse {
  string summary = 1;             // –û–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
  repeated string actions = 2;     // –°–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
  float confidence = 3;            // –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
  string audio_url = 4;            // URL –∞—É–¥–∏–æ –æ—Ç–≤–µ—Ç–∞
  int32 processing_time_ms = 5;    // –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
}

message VoiceRequest {
  bytes audio_data = 1;           // WAV –∞—É–¥–∏–æ
  string language = 2;             // –Ø–∑—ã–∫
  string user_id = 3;             // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
}

message VoiceResponse {
  string transcribed_text = 1;     // –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  string answer = 2;               // –û—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
  string audio_url = 3;            // URL –∞—É–¥–∏–æ –æ—Ç–≤–µ—Ç–∞
}
```

### **2. gRPC –∫–ª–∏–µ–Ω—Ç (macOS)**

```python
import grpc
import assistant_pb2
import assistant_pb2_grpc
import asyncio
from concurrent.futures import ThreadPoolExecutor

class AssistantGrpcClient:
    def __init__(self):
        # gRPC –∫–∞–Ω–∞–ª —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
        self.channel = grpc.aio.insecure_channel(
            'localhost:50051',
            options=[
                ('grpc.max_send_message_length', 10 * 1024 * 1024),  # 10MB
                ('grpc.max_receive_message_length', 10 * 1024 * 1024),
                ('grpc.keepalive_time_ms', 30000),  # 30 —Å–µ–∫
                ('grpc.keepalive_timeout_ms', 5000),  # 5 —Å–µ–∫
                ('grpc.keepalive_permit_without_calls', True),
                ('grpc.http2.max_pings_without_data', 0),
                ('grpc.http2.min_time_between_pings_ms', 10000),
            ]
        )
        
        # –°–æ–∑–¥–∞—ë–º stub
        self.stub = assistant_pb2_grpc.AssistantServiceStub(self.channel)
        
        # –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
        self.executor = ThreadPoolExecutor(max_workers=4)
        
    async def analyze_screen(self, screenshot, metadata):
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω —á–µ—Ä–µ–∑ gRPC"""
        
        # –°–æ–∑–¥–∞—ë–º –∑–∞–ø—Ä–æ—Å
        request = assistant_pb2.ScreenRequest(
            screenshot=screenshot,
            app_name=metadata['app_name'],
            window_title=metadata['window_title'],
            timestamp=int(time.time() * 1000),
            user_id=self.user_id
        )
        
        try:
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —Å —Ç–∞–π–º–∞—É—Ç–æ–º
            response = await asyncio.wait_for(
                self.stub.AnalyzeScreen(request),
                timeout=5.0  # 5 —Å–µ–∫—É–Ω–¥ —Ç–∞–π–º–∞—É—Ç
            )
            
            return {
                'summary': response.summary,
                'actions': list(response.actions),
                'confidence': response.confidence,
                'audio_url': response.audio_url,
                'processing_time': response.processing_time_ms
            }
            
        except asyncio.TimeoutError:
            # –¢–∞–π–º–∞—É—Ç - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π fallback
            return self.local_fallback_analysis(screenshot, metadata)
            
        except grpc.RpcError as e:
            # –û—à–∏–±–∫–∞ gRPC - –ª–æ–≥–∏—Ä—É–µ–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º fallback
            print(f"gRPC –æ—à–∏–±–∫–∞: {e}")
            return self.local_fallback_analysis(screenshot, metadata)
```

### **3. gRPC —Å–µ—Ä–≤–µ—Ä (Backend)**

```python
import grpc
import asyncio
from concurrent.futures import ThreadPoolExecutor
import assistant_pb2
import assistant_pb2_grpc

class AssistantGrpcServer(assistant_pb2_grpc.AssistantServiceServicer):
    def __init__(self):
        # –°–µ—Ä–≤–∏—Å—ã
        self.llm_service = LLMService()
        self.tts_service = TTSService()
        self.stt_service = STTService()
        
        # –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
        self.executor = ThreadPoolExecutor(max_workers=20)
        
    async def AnalyzeScreen(self, request, context):
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω"""
        
        start_time = time.time()
        
        try:
            # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ LLM
            analysis = await self.llm_service.analyze(
                request.screenshot,
                {
                    'app_name': request.app_name,
                    'window_title': request.window_title
                }
            )
            
            # –°–∏–Ω—Ç–µ–∑–∏—Ä—É–µ–º —Ä–µ—á—å
            audio_url = await self.tts_service.synthesize(
                analysis['summary'],
                language='ru'
            )
            
            processing_time = int((time.time() - start_time) * 1000)
            
            return assistant_pb2.AnalysisResponse(
                summary=analysis['summary'],
                actions=analysis['actions'],
                confidence=analysis['confidence'],
                audio_url=audio_url,
                processing_time_ms=processing_time
            )
            
        except Exception as e:
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
            context.set_code(grpc.StatusCode.INTERNAL)
            context.set_details(f"–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞: {str(e)}")
            return assistant_pb2.AnalysisResponse()

def serve():
    """–ó–∞–ø—É—Å–∫–∞–µ—Ç gRPC —Å–µ—Ä–≤–µ—Ä"""
    
    server = grpc.aio.server(
        ThreadPoolExecutor(max_workers=20),
        options=[
            ('grpc.max_send_message_length', 10 * 1024 * 1024),
            ('grpc.max_receive_message_length', 10 * 1024 * 1024),
            ('grpc.keepalive_time_ms', 30000),
            ('grpc.keepalive_timeout_ms', 5000),
        ]
    )
    
    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å
    assistant_pb2_grpc.add_AssistantServiceServicer_to_server(
        AssistantGrpcServer(), server
    )
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞ –ø–æ—Ä—Ç—É 50051
    server.add_insecure_port('[::]:50051')
    await server.start()
    await server.wait_for_termination()

if __name__ == '__main__':
    asyncio.run(serve())
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

### **config.json (–∫–ª–∏–µ–Ω—Ç):**
```json
{
  "server": {
    "grpc_url": "localhost:50051",
    "timeout": 5000,
    "retry_attempts": 3
  },
  
  "space_control": {
    "long_press_threshold": 600,
    "short_press_threshold": 300,
    "text_field_protection": true
  },
  
  "screen_capture": {
    "max_width": 1024,
    "format": "webp",
    "quality": 80,
    "cache_enabled": true,
    "cache_size": 100
  },
  
  "tts": {
    "language": "ru",
    "rate": 0.5,
    "voice": "ru-RU-SvetlanaNeural",
    "style": "friendly",
    "edge_tts": true
  },
  
  "logging": {
    "level": "INFO",
    "file": "assistant.log",
    "max_size": "10MB"
  }
}
```

### **config.json (—Å–µ—Ä–≤–µ—Ä):**
```json
{
  "llm": {
    "provider": "gemini",
    "model": "gemini-1.5-flash",
    "api_key": "env:GEMINI_API_KEY",
    "timeout": 10000,
    "max_tokens": 500
  },
  
  "stt": {
    "provider": "openai",
    "model": "whisper-1",
    "api_key": "env:OPENAI_API_KEY",
    "language": "ru",
    "timeout": 15000
  },
  
  "tts": {
    "provider": "azure",
    "api_key": "env:AZURE_TTS_KEY",
    "region": "eastus",
    "voice": "ru-RU-SvetlanaNeural",
    "rate": 1.0
  },
  
  "grpc": {
    "port": 50051,
    "max_workers": 20,
    "max_message_size": "10MB",
    "keepalive_time": 30000
  },
  
  "database": {
    "type": "postgresql",
    "host": "localhost",
    "port": 5432,
    "database": "assistant_db",
    "user": "env:DB_USER",
    "password": "env:DB_PASSWORD"
  }
}
```

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### **requirements.txt (–∫–ª–∏–µ–Ω—Ç):**
```txt
SpeechRecognition==3.10.0
PyAudio==0.2.11
edge-tts==6.1.9
grpcio==1.59.0
grpcio-tools==1.59.0
protobuf==4.24.4
Pillow==10.0.0
pyobjc-framework-Quartz==9.2
pyobjc-framework-Cocoa==9.2
keyboard==0.13.5
pygame==2.5.0
numpy==1.24.0
asyncio==3.4.3
```

### **requirements.txt (—Å–µ—Ä–≤–µ—Ä):**
```txt
grpcio==1.59.0
grpcio-tools==1.59.0
protobuf==4.24.4
google-generativeai==0.3.2
Pillow==10.0.0
opencv-python==4.8.1.78
psycopg2-binary==2.9.7
fastapi==0.104.1
uvicorn==0.24.0
redis==5.0.1
```

---

## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
```python
# –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
TARGET_METRICS = {
    'screen_analysis': {
        'latency_p95': 2000,      # 95% –∑–∞–ø—Ä–æ—Å–æ–≤ < 2 —Å–µ–∫
        'latency_p99': 5000,      # 99% –∑–∞–ø—Ä–æ—Å–æ–≤ < 5 —Å–µ–∫
        'throughput': 100         # 100 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
    },
    
    'voice_processing': {
        'stt_latency_p95': 1000,  # 95% STT < 1 —Å–µ–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)
        'stt_latency_p99': 2000,  # 99% STT < 2 —Å–µ–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)
        'tts_latency_p95': 800,   # 95% TTS < 0.8 —Å–µ–∫ (Edge TTS)
        'tts_latency_p99': 1500,  # 99% TTS < 1.5 —Å–µ–∫ (Edge TTS)
        'stt_accuracy': 0.95      # 95% —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
    },
    
    'grpc_connection': {
        'connection_time': 100,    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ < 100–º—Å
        'keepalive_interval': 30, # Keepalive –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
        'reconnect_time': 500     # –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ < 500–º—Å
    },
    
    'space_control': {
        'response_time': 50,       # –†–µ–∞–∫—Ü–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª < 50–º—Å
        'false_positive': 0.01,   # < 1% –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
        'text_field_protection': 1.0  # 100% –∑–∞—â–∏—Ç–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
    }
}
```

---

## –ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º –≤ MVP 1

‚úÖ **–†–∞–±–æ—á–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–∏–º –ø—Ä–æ–±–µ–ª–æ–º** - –¥–æ–ª–≥–∏–π = –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ä–æ—Ç–∫–∏–π = –ø–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ
‚úÖ **–ê–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞** —á–µ—Ä–µ–∑ LLM (Gemini 1.5 Flash)
‚úÖ **–ì–æ–ª–æ—Å–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–∫—Ä–∞–Ω–∞ (Edge TTS - –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞)
‚úÖ **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏** - –±—ã—Å—Ç—Ä–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–∞–¥—ë–∂–Ω–æ
‚úÖ **–ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ** —Ä–µ—á–∏ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º
‚úÖ **–£–º–Ω–∞—è –∑–∞—â–∏—Ç–∞** –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —Ç–µ–∫—Å—Ç–æ–º
‚úÖ **gRPC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏ –Ω–∞–¥—ë–∂–Ω–æ–π —Å–≤—è–∑–∏ (—Ç–æ–ª—å–∫–æ LLM)
‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
‚úÖ **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—à–∏–±–æ–∫, –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚úÖ **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚úÖ **–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é** —Å –Ω–µ–∑—Ä—è—á–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —á—Ç–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–≥–æ –¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–±–µ–ª
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
   ‚Üí –ß–∏—Ç–∞–µ—Ç —á—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
   ‚Üí –°–æ—Å—Ç–æ—è–Ω–∏–µ: "active"
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–µ—Ä–µ–±–∏–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏ –∫–æ–º–∞–Ω–¥—ã**
```
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π –ø—Ä–æ–±–µ–ª –≤–æ –≤—Ä–µ–º—è —Ä–µ—á–∏
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∑–∞–º–æ–ª–∫–∞–µ—Ç
   ‚Üí –ù–∞—á–∏–Ω–∞–µ—Ç —Å–ª—É—à–∞—Ç—å –∫–æ–º–∞–Ω–¥—É/–≤–æ–ø—Ä–æ—Å
   ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–ß—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ?"
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∫–æ–º–∞–Ω–¥—É –ª–æ–∫–∞–ª—å–Ω–æ
   ‚Üí –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
   ‚Üí –°–æ—Å—Ç–æ—è–Ω–∏–µ: "active"
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ**
```
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–≥–æ –¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–±–µ–ª (–∫–æ–≥–¥–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω)
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è
   ‚Üí –°–æ—Å—Ç–æ—è–Ω–∏–µ: "inactive"
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**
```
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–ü–æ–≤—Ç–æ—Ä–∏"
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç
   
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–°—Ç–æ–ø"
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
   
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç: "–ß—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ?"
   ‚Üí –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ MVP 1

### **MVP 2 (4 –Ω–µ–¥–µ–ª–∏):**
1. **–≠—Ö–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ** - WebRTC AEC + NS
2. **–ì–æ–ª–æ—Å–æ–≤–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ** - VAD + STT
3. **–î–∏–∞–ª–æ–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π LLM
4. **–ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—É—Ä–æ–≤–µ–Ω—å

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã:**
1. **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è** - iOS/Android
2. **–û–±–ª–∞—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### **‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π STT:**
- **–ë—ã—Å—Ç—Ä–æ** - –Ω–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
- **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ** - Google Speech API
- **–ù–∞–¥—ë–∂–Ω–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **–ü—Ä–æ—Å—Ç–æ** - –º–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### **‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **gRPC —Ç–æ–ª—å–∫–æ –¥–ª—è LLM** - –º–∏–Ω–∏–º—É–º —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - STT, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **Edge TTS** - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** - –º–µ–Ω—å—à–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

---

## –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **üéØ –¶–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ MVP 1:**
–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã, –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è MVP 2.

### **üîç –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º:**

#### **1. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```python
# –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
def generate_user_id():
    # –ö–æ–º–±–∏–Ω–∞—Ü–∏—è: MAC –∞–¥—Ä–µ—Å + Serial Number + Volume UUID
    mac = get_mac_address()
    serial = get_system_serial()
    volume_uuid = get_volume_uuid()
    
    # –•–µ—à–∏—Ä—É–µ–º –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏
    combined = f"{mac}:{serial}:{volume_uuid}"
    return hashlib.sha256(combined.encode()).hexdigest()[:16]
```

#### **2. –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```python
# –í—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
analytics.log_performance('screen_capture', duration_ms)
analytics.log_performance('image_processing', duration_ms)
analytics.log_performance('llm_analysis', duration_ms)
analytics.log_performance('tts_synthesis', duration_ms)
analytics.log_performance('total_response', duration_ms)
```

#### **3. –°–æ–±—ã—Ç–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:**
```python
# –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
analytics.log_event('assistant_activated')
analytics.log_event('user_interrupted')
analytics.log_event('command_recognized', {'command': 'what_on_screen'})
analytics.log_event('error_occurred', {'error_type': 'network_timeout'})
```

#### **4. –ö–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã:**
```python
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
analytics.log_quality('stt_accuracy', accuracy_percentage)
analytics.log_quality('llm_response_quality', confidence_score)
analytics.log_quality('image_capture_success', success_rate)
```

### **üìä –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**

#### **–°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "user_id": "a1b2c3d4e5f6g7h8",
  "session_id": "session_123",
  "timestamp": "2024-01-15T10:30:00Z",
  "events": [
    {
      "event_type": "assistant_activated",
      "timestamp": "2024-01-15T10:30:05Z",
      "data": {}
    },
    {
      "event_type": "performance_metric",
      "timestamp": "2024-01-15T10:30:08Z",
      "data": {
        "operation": "total_response",
        "duration_ms": 2300
      }
    }
  ]
}
```

#### **–ü–æ–ª–∏—Ç–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 50 —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –∫–∞–∂–¥—ã–π —á–∞—Å
- **–°–∂–∞—Ç–∏–µ** - gzip –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- **Retry –ª–æ–≥–∏–∫–∞** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **Fallback** - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

### **üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:**

#### **–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å** - –Ω–∏–∫–∞–∫–∏—Ö –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å** - —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** - HTTPS –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ—Ç—Ä–∏–∫
- **–ö–æ–Ω—Ç—Ä–æ–ª—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É

#### **–ß—Ç–æ –ù–ï —Å–æ–±–∏—Ä–∞–µ–º:**
- ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç–∫—Ä–∞–Ω–æ–≤
- ‚ùå –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚ùå –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
- ‚ùå –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏–ª–∏ –ø–∞—Ä–æ–ª–∏

#### **–ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ–º:**
- ‚úÖ –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –¢–∏–ø—ã –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### **üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è MVP 2:**

#### **–ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã:**
- **–ì–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç** - –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ö–∞–∫–∏–µ –æ—à–∏–±–∫–∏ —á–∞—Å—Ç—ã–µ** - –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã

#### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```python
# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
if error_rate > 0.1:  # >10% –æ—à–∏–±–æ–∫
    send_alert('high_error_rate', {'rate': error_rate})

if avg_response_time > 5000:  # >5 —Å–µ–∫—É–Ω–¥
    send_alert('slow_response_time', {'avg_time': avg_response_time})
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**MVP 1 –¥–∞—ë—Ç –Ω–∞–º:**

üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - 3 –Ω–µ–¥–µ–ª–∏ –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
üéØ **–ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –æ–¥–∏–Ω –ø—Ä–æ–±–µ–ª –¥–ª—è –≤—Å–µ–≥–æ
‚úÖ **–ù–∞–¥—ë–∂–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** - gRPC + –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä
üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - API –∫–ª—é—á–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
üé§ **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ** - –±—ã—Å—Ç—Ä–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–∞–¥—ë–∂–Ω–æ
üîä **Edge TTS** - –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞ Microsoft (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
üìä **–ü–æ–ª–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
üì± **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é** - –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

**–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –Ω–µ–∑—Ä—è—á–∏—Ö!** üéâ
