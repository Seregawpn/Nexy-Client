# Гибридный подход: HTTP + gRPC

## Архитектура

```
┌─────────────────────────────────────────────────────────────┐
│                    СИСТЕМА ОБНОВЛЕНИЙ                      │
├─────────────────────────────────────────────────────────────┤
│  КЛИЕНТ                           │  СЕРВЕР                │
├───────────────────────────────────┼─────────────────────────┤
│  • HTTP для манифестов            │  • HTTP сервер          │
│  • gRPC для метрик/статуса        │  • gRPC сервер          │
│  • HTTPS для безопасности         │  • Общие ключи          │
└───────────────────────────────────┴─────────────────────────┘
```

## Использование

### HTTP (основной канал)
- ✅ Манифесты обновлений
- ✅ Скачивание артефактов
- ✅ Статический контент
- ✅ Кэширование CDN

### gRPC (дополнительный канал)
- ✅ Метрики обновлений
- ✅ Статус клиентов
- ✅ Аналитика
- ✅ Управление

## Преимущества

1. **Простота**: HTTP для основных операций
2. **Эффективность**: gRPC для метрик
3. **Совместимость**: HTTP работает везде
4. **Масштабируемость**: CDN + gRPC
5. **Отладка**: HTTP легко отлаживать
