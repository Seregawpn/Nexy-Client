# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è mode_management

## üéØ –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å `mode_management` –±—ã–ª —É–ø—Ä–æ—â–µ–Ω –¥–æ **3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤** –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

## üîÑ –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. **SLEEPING** (–°–ø—è—â–∏–π —Ä–µ–∂–∏–º)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∞–∑–æ–≤—ã–π —Ä–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –ù–µ–∞–∫—Ç–∏–≤–µ–Ω, –æ–∂–∏–¥–∞–µ—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**: 
  - `SLEEPING ‚Üí LISTENING` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∞–ª –≥–æ–≤–æ—Ä–∏—Ç—å)
  - `SLEEPING ‚Üí PROCESSING` (–ø—Ä—è–º–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã)

### 2. **LISTENING** (–†–µ–∂–∏–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–ø–∏—Å—å –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –ê–∫—Ç–∏–≤–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**:
  - `LISTENING ‚Üí PROCESSING` (—Ä–µ—á—å —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞, –Ω–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É)
  - `LISTENING ‚Üí SLEEPING` (–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç)

### 3. **PROCESSING** (–†–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É
- **–ü–µ—Ä–µ—Ö–æ–¥—ã**:
  - `PROCESSING ‚Üí SLEEPING` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
  - `PROCESSING ‚Üí LISTENING` (–Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

## üîó –¢–∏–ø—ã –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

- **AUTOMATIC** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ –ª–æ–≥–∏–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **MANUAL** - —Ä—É—á–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ –∫–æ–º–∞–Ω–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **INTERRUPT** - –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
mode_management/
‚îú‚îÄ‚îÄ __init__.py                 # –ü—É–±–ª–∏—á–Ω—ã–π API –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ mode_controller.py     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–µ–∂–∏–º–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ types.py              # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ modes/
‚îÇ   ‚îú‚îÄ‚îÄ sleeping_mode.py      # –†–µ–∂–∏–º —Å–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ processing_mode.py    # –†–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ listening_mode.py     # –†–µ–∂–∏–º –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ SIMPLIFIED_ARCHITECTURE.md # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from mode_management import ModeController, AppMode, ModeConfig

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
config = ModeConfig(default_mode=AppMode.SLEEPING)
controller = ModeController(config)

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
await controller.switch_mode(AppMode.LISTENING)
await controller.switch_mode(AppMode.PROCESSING)
await controller.switch_mode(AppMode.SLEEPING)
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–∏—è

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ª–æ–≥–∏–∫–∏** - —Ç–æ–ª—å–∫–æ 3 —Ä–µ–∂–∏–º–∞ –≤–º–µ—Å—Ç–æ 6
2. **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤** - —á–µ—Ç–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
3. **–õ–µ–≥–∫–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏** - –º–µ–Ω—å—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ä–µ–∂–∏–º—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é `test_simplified_mode_management.py`:
- ‚úÖ –ë–∞–∑–æ–≤–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∂–∏–º–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å)

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å:
- `speech_recognizer` - –¥–ª—è —Ä–µ–∂–∏–º–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- `grpc_client` - –¥–ª—è —Ä–µ–∂–∏–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `audio_device_manager` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—É–¥–∏–æ
- `text_processor` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤ –∫–∞–∂–¥–æ–º —Ä–µ–∂–∏–º–µ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –°—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–∂–∏–º–∞
- Callback'–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–æ–≤
