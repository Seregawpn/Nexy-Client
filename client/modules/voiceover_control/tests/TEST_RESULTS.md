# VoiceOver Control - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üéØ –¶–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–±–æ—á–∏–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VoiceOver –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Nexy.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ò–ï –º–µ—Ç–æ–¥—ã:

#### 1. **Command+F5** - –ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ VoiceOver
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ VoiceOver
- **AppleScript**: `tell application "System Events" to key code 96 using {command down}`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: Ducking –∏ Release

#### 2. **`say`** - –ó–∞—Å—Ç–∞–≤–∏—Ç—å VoiceOver –≥–æ–≤–æ—Ä–∏—Ç—å
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞—Å—Ç–∞–≤–∏—Ç—å VoiceOver –ø—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç
- **AppleScript**: `tell application "VoiceOver" to say "text"`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### ‚ùå –ù–ï –†–ê–ë–û–¢–ê–Æ–©–ò–ï –º–µ—Ç–æ–¥—ã:

#### 1. **`set speechMuted`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—á—å—é
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: `The variable speechMuted is not defined. (-2753)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–≤–æ–π—Å—Ç–≤–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ VoiceOver

#### 2. **`set speechVolume`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: `The variable speechVolume is not defined. (-2753)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–≤–æ–π—Å—Ç–≤–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ VoiceOver

#### 3. **`stop speaking`** - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ—á–∏
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: `syntax error: A identifier can't go after this application constant or consideration. (-2740)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ AppleScript

#### 4. **`pause speaking`** - –ü–∞—É–∑–∞ —Ä–µ—á–∏
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: `syntax error: A identifier can't go after this identifier. (-2740)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ AppleScript

#### 5. **`resume speaking`** - –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ—á–∏
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: `syntax error: A identifier can't go after this identifier. (-2740)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ AppleScript

#### 6. **`stop`, `delay`, `run`, `activate`** - –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
- **–û—à–∏–±–∫–∞**: –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, –Ω–æ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ VoiceOver
- **–ü—Ä–∏—á–∏–Ω–∞**: VoiceOver –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π VoiceOverController

```python
def _send_duck_command_sync(self, context: str) -> bool:
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º Command+F5 –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è VoiceOver
    # –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    logger.info(f"VoiceOverController: Using Command+F5 to disable VoiceOver (reason={context})")
    return self._toggle_voiceover_with_command_f5()

def _toggle_voiceover_with_command_f5(self) -> bool:
    """–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å VoiceOver —á–µ—Ä–µ–∑ Command+F5 (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥)"""
    try:
        success, output, stderr = self._run_osascript(
            'tell application "System Events" to key code 96 using {command down}'
        )
        
        if success:
            logger.info("VoiceOverController: Command+F5 executed successfully")
            return True
        else:
            logger.error(
                "VoiceOverController: Command+F5 failed: %s", 
                stderr.strip() if stderr else "Unknown error"
            )
            return False
            
    except Exception as exc:
        logger.error("VoiceOverController: Command+F5 exception: %s", exc)
        return False
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
voiceover_control:
  enabled: true
  mode: toggle_voiceover  # –ò—Å–ø–æ–ª—å–∑—É–µ–º Command+F5 –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è VoiceOver
  duck_on_modes:
    - listening
    - processing
  release_on_modes:
    - sleeping
  # –ú–µ—Ç–æ–¥ ducking: Command+F5 (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥)
  ducking_method: command_f5
```

## üéØ –í—ã–≤–æ–¥—ã

### 1. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –º–µ—Ç–æ–¥**: Command+F5
- –ü–æ–ª–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ VoiceOver
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è ducking –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### 2. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ API –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç**
- AppleScript API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—á—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ö–æ–º–∞–Ω–¥—ã –ø–∞—É–∑—ã/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ AppleScript –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

### 3. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Command+F5 –¥–ª—è ducking
- –ü–æ–ª–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ VoiceOver –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Ä–µ–∂–∏–º—ã LISTENING/PROCESSING
- –ü–æ–ª–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ VoiceOver –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Ä–µ–∂–∏–º SLEEPING

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ**
- ‚úÖ **–†–∞–±–æ—á–∏–µ –º–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã**
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω**
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞**

**VoiceOver ducking –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!**

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Command+F5** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VoiceOver
2. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ API** –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ macOS
3. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Command+F5** –¥–ª—è ducking
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ**, —á—Ç–æ –∫–æ–º–∞–Ω–¥—ã `stop`, `delay`, `run`, `activate` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, –Ω–æ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ VoiceOver
5. **Apple –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç** AppleScript API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—á—å—é VoiceOver –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ macOS