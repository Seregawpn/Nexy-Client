# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è Screenshot Capture

## üìã **–û–ë–ó–û–†**

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∏ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è `screenshot_capture` –Ω–∞ macOS.

## üîê **–¢–†–ï–ë–£–ï–ú–´–ï –°–ï–†–¢–ò–§–ò–ö–ê–¢–´**

### **1. Developer ID Application Certificate**
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–¥–ø–∏—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ App Store
- **–¢–∏–ø**: Developer ID Application
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**: 1 –≥–æ–¥
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ï–∂–µ–≥–æ–¥–Ω–æ

### **2. Apple Developer Account**
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ Apple Developer Program
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: $99/–≥–æ–¥
- **–§—É–Ω–∫—Ü–∏–∏**: –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º, –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ

## üõ†Ô∏è **–ü–†–û–¶–ï–°–° –ù–ê–°–¢–†–û–ô–ö–ò**

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**

1. **–í–æ–π–¥–∏—Ç–µ –≤ Apple Developer Portal**
   ```
   https://developer.apple.com/account/
   ```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Certificates, Identifiers & Profiles**
   - –í—ã–±–µ—Ä–∏—Ç–µ "Certificates"
   - –ù–∞–∂–º–∏—Ç–µ "+" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**
   - **Developer ID Application** - –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - **Developer ID Installer** - –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ PKG –ø–∞–∫–µ—Ç–æ–≤

4. **–°–æ–∑–¥–∞–π—Ç–µ Certificate Signing Request (CSR)**
   ```bash
   # –û—Ç–∫—Ä–æ–π—Ç–µ Keychain Access
   # –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Keychain Access > Certificate Assistant > Request a Certificate From a Certificate Authority
   # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ CSR —Ñ–∞–π–ª
   ```

5. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSR –∏ —Å–∫–∞—á–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSR —Ñ–∞–π–ª –≤ Apple Developer Portal
   - –°–∫–∞—á–∞–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (.cer —Ñ–∞–π–ª)
   - –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ Keychain

### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# Apple Developer Account
APPLE_ID="your@email.com"
TEAM_ID="YOUR_TEAM_ID"
APP_PASSWORD="app-specific-password"

# Developer ID Certificates
DEVELOPER_ID="Developer ID Application: Your Name (TEAM_ID)"
INSTALLER_ID="Developer ID Installer: Your Name (TEAM_ID)"

# Bundle Identifiers
BUNDLE_ID="com.nexy.screenshot.capture"
```

### **–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ App-Specific Password**

1. **–í–æ–π–¥–∏—Ç–µ –≤ Apple ID Account**
   ```
   https://appleid.apple.com/
   ```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Security**
   - –ù–∞–π–¥–∏—Ç–µ "App-Specific Passwords"
   - –ù–∞–∂–º–∏—Ç–µ "Generate Password"

3. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å**
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "Nexy Screenshot Capture Notarization"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `APP_PASSWORD`

## üîß **–ù–ê–°–¢–†–û–ô–ö–ê –ü–û–î–ü–ò–°–ò**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
security find-identity -v -p codesigning

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
security find-identity -v -p codesigning | grep "Developer ID Application"
```

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ entitlements**

–§–∞–π–ª `entitlements/screenshot_capture.entitlements` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏:

- ‚úÖ **Screen Recording** - –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- ‚úÖ **Camera Access** - –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–∫—Ä–∞–Ω—É
- ‚úÖ **Apple Events** - –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **File Access** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Info.plist**

–§–∞–π–ª `info/Info.plist` —Å–æ–¥–µ—Ä–∂–∏—Ç:

- ‚úÖ **Bundle Identifier** - `com.nexy.screenshot.capture`
- ‚úÖ **Version** - `1.0.0`
- ‚úÖ **Usage Descriptions** - –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **Architecture Support** - arm64, x86_64

## üöÄ **–ü–†–û–¶–ï–°–° –°–ë–û–†–ö–ò –ò –ü–û–î–ü–ò–°–ò**

### **1. –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

```bash
cd screenshot_capture/macos/scripts
chmod +x build_macos.sh
./build_macos.sh
```

### **2. –ü–æ–¥–ø–∏—Å—å –∏ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è**

```bash
chmod +x sign_and_notarize.sh
./sign_and_notarize.sh
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
codesign --verify --verbose "dist/Screenshot Capture.app"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏
xcrun stapler validate "dist/Screenshot Capture.app"
```

## ‚ö†Ô∏è **–í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø**

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ Git
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** .gitignore –¥–ª—è .p12 —Ñ–∞–π–ª–æ–≤
- **–•—Ä–∞–Ω–∏—Ç–µ** –ø–∞—Ä–æ–ª–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –µ–∂–µ–º–µ—Å—è—á–Ω–æ
- **–û–±–Ω–æ–≤–ª—è–π—Ç–µ** –∑–∞ 30 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –ø–æ–¥–ø–∏—Å—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**
- **–û—á–∏—â–∞–π—Ç–µ** Keychain –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ** –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

## üìö **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´**

- [Apple Code Signing Guide](https://developer.apple.com/library/archive/documentation/Security/Conceptual/CodeSigningGuide/)
- [Notarization Guide](https://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution)
- [Developer ID Certificates](https://developer.apple.com/developer-id/)
- [Keychain Access Guide](https://support.apple.com/guide/keychain-access/)

## üÜò **–ü–û–î–î–ï–†–ñ–ö–ê**

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
4. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å** –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Apple

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞**: 2024-09-12  
**–ê–≤—Ç–æ—Ä**: Nexy Development Team
