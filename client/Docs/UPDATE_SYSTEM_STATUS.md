# üîÑ –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Nexy

**–î–∞—Ç–∞:** 19 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê –ò –ì–û–¢–û–í–ê –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

---

## üéØ –û–±–∑–æ—Ä

Nexy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–Ω–æ–≤—É—é HTTP-—Å–∏—Å—Ç–µ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ Sparkle Framework. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–∞—Ä–æ–ª—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:** PKG ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è –≤ `~/Applications/Nexy.app`
2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:** HTTP –∑–∞–ø—Ä–æ—Å –∫ –º–∞–Ω–∏—Ñ–µ—Å—Ç—É –∫–∞–∂–¥—ã–µ 3600 —Å–µ–∫
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** DMG ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Üí –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞ ‚Üí –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** 3 —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (SHA256 + Ed25519 + codesign/spctl)

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π:**
```
client/modules/updater/
‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ net.py             # HTTP –∫–ª–∏–µ–Ω—Ç —Å —Ä–µ—Ç—Ä–∞—è–º–∏
‚îú‚îÄ‚îÄ verify.py          # –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ dmg.py             # –†–∞–±–æ—Ç–∞ —Å DMG —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ replace.py         # –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞ .app
‚îú‚îÄ‚îÄ migrate.py         # –ú–∏–≥—Ä–∞—Ü–∏—è –≤ ~/Applications
‚îî‚îÄ‚îÄ updater.py         # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
```

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```
client/integration/integrations/
‚îî‚îÄ‚îÄ updater_integration.py  # EventBus –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **3 —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. **SHA256 —Ö–µ—à** - —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞
2. **Ed25519 –ø–æ–¥–ø–∏—Å—å** - –∞—É—Ç–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞  
3. **codesign + spctl** - –ø–æ–¥–ø–∏—Å—å Apple + Gatekeeper

### **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—É—Ç–∏:**
- ‚úÖ HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å –æ—Ç–∫–∞—Ç–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

---

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
# client/config/unified_config.yaml
updater:
  enabled: true
  manifest_url: "https://updates.nexy.ai/manifest.json"
  check_interval: 3600
  check_on_startup: true
  auto_install: true
  security:
    public_key: "BASE64_PUBLIC_ED25519_KEY"
  timeout: 30
  retries: 3
  ui:
    show_notifications: true
    auto_download: true
```

---

## üöÄ –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å

### **JSON –º–∞–Ω–∏—Ñ–µ—Å—Ç:**
```json
{
  "version": "2.6.0",
  "build": 20600,
  "release_date": "2025-09-19T10:00:00Z",
  "artifact": {
    "type": "dmg",
    "url": "https://updates.nexy.ai/Nexy-2.6.0.dmg",
    "size": 12345678,
    "sha256": "a1b2c3d4e5f6...",
    "ed25519": "BASE64_SIGNATURE",
    "arch": "universal2",
    "min_os": "11.0"
  },
  "notes_url": "https://nexy.ai/changelog/2.6.0"
}
```

### **–°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏:**
- `server/updates/scripts/create_dmg.sh` - —Å–æ–∑–¥–∞–Ω–∏–µ DMG
- `server/updates/scripts/sign_ed25519.py` - –ø–æ–¥–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤
- `server/updates/scripts/generate_keys.py` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- ‚úÖ **–ü–∞—Ä–æ–ª—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** (–ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ PKG)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –≤ —Ñ–æ–Ω–µ
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** —Å –æ—Ç–∫–∞—Ç–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** (4-5 —á–∞—Å–æ–≤ vs 3-5 –¥–Ω–µ–π)
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- ‚úÖ **–õ–µ–≥–∫–∞—è –æ—Ç–ª–∞–¥–∫–∞** –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å PyInstaller

---

## üìä –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| **–ú–æ–¥—É–ª–∏ updater** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 7 –º–æ–¥—É–ª–µ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã |
| **UpdaterIntegration** | ‚úÖ –ì–æ—Ç–æ–≤–æ | EventBus –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** | ‚úÖ –ì–æ—Ç–æ–≤–æ | unified_config.yaml –æ–±–Ω–æ–≤–ª–µ–Ω |
| **–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ú–∞–Ω–∏—Ñ–µ—Å—Ç –∏ —Å–∫—Ä–∏–ø—Ç—ã |
| **–°–±–æ—Ä–∫–∞ .app** | ‚úÖ –ì–æ—Ç–æ–≤–æ | PyInstaller –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| **–°–æ–∑–¥–∞–Ω–∏–µ DMG** | üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | –°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚è≥ –û–∂–∏–¥–∞–µ—Ç | DMG –≥–æ—Ç–æ–≤ |

---

## üß™ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### **‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- –í—Å–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å EventBus
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
- –°–±–æ—Ä–∫–∞ .app —Ñ–∞–π–ª–∞

### **üîÑ –ß—Ç–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ:**
- –°–æ–∑–¥–∞–Ω–∏–µ DMG —Ñ–∞–π–ª–∞
- –ü–æ–¥–ø–∏—Å—å –∏ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è

### **‚è≥ –ß—Ç–æ –æ–∂–∏–¥–∞–µ—Ç:**
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ ~/Applications

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Nexy –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è** (3 —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è** (–∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å –æ—Ç–∫–∞—Ç–æ–º)
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è** (4-5 —á–∞—Å–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–∞—è** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- ‚úÖ **–ì–æ—Ç–æ–≤–∞—è –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞–Ω–∏–µ DMG –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
